<div class="modal fade" id="announcementModal" tabindex="-1" aria-labelledby="announcementModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered" style="border-radius: 1rem; overflow: hidden;">
    <div class="modal-content shadow border-0 rounded-4" style="background-color: #fff; box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);">

      <div class="modal-header bg-warning rounded-top-4 d-flex align-items-center gap-3">
        <div class="flex-shrink-0">
          <svg width="40" height="37" viewBox="0 0 71 65" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_692_1880)">
              <path d="M3.37805 33.689V60.4288H34.8331H66.2883V55.9721V51.5156L39.2962 51.4853L12.2891 51.44L12.2434 29.1871L12.2129 6.94934H7.79548H3.37805V33.689Z" fill="currentColor"/>
              <path d="M21.3524 24.7002V42.4512H25.8459H30.3396V29.0814V15.7115H34.8332H39.3267V29.0814V42.4512H43.8203H48.3138V29.0814V15.7115H52.8075H57.3011V11.3305V6.94934H39.3267H21.3524V24.7002Z" fill="currentColor"/>
              <path d="M57.3011 29.1569V42.4512H61.7946H66.2882V29.1569V15.8626H61.7946H57.3011V29.1569Z" fill="currentColor"/>
            </g>
            <defs>
              <clipPath id="clip0_692_1880">
                <rect width="71" height="65" fill="currentColor"/>
              </clipPath>
            </defs>
          </svg>
        </div>
        <h5 class="modal-title m-0" id="announcementModalLabel">Объявление</h5>
        <button type="button" class="btn-close btn-close-white ms-auto" data-bs-dismiss="modal" aria-label="Закрыть"></button>
      </div>

      <div class="modal-body fs-5">
        <p>
          <strong>Уважаемые пользователи</strong><br>
        </p>

        <div class="bg-light border-start border-4 border-warning p-3 mb-3 rounded-4">
          <p class="mb-1">
            <strong>В связи с обновлением алгоритмов работы системы «Честный Знак» срок выполнения заказов может составлять от 1 до 3 рабочих дней.</strong>
          </p>
        </div>

        <p class="mb-0">
          Просим заранее планировать размещение заказов, чтобы избежать задержек с поставками. Также рекомендуем оформлять заказы на маркировку в августе с запасом.
        </p>
        <p class="text-end fst-italic mb-0">С уважением, администрация <strong>Марка сервис</strong></p>
      </div>

    </div>
  </div>
</div>

<style>
  /* Стили только для модалки #announcementModal */

  #announcementModal .modal-dialog {
    overflow: hidden;
    border-radius: 1rem;
    max-width: 600px;
    margin: auto;
  }

  #announcementModal .modal-content {
    background-color: #fff;
    border: none;
    border-radius: 1rem;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
    overflow: hidden;
  }

  #announcementModal .modal-header {
    border-bottom: none;
    border-top-left-radius: 1rem;
    border-top-right-radius: 1rem;
  }

  #announcementModal .modal-body {
    border-bottom-left-radius: 1rem;
    border-bottom-right-radius: 1rem;
  }

  #announcementModal .modal-content::before,
  #announcementModal .modal-content::after,
  #announcementModal .modal-dialog::before,
  #announcementModal .modal-dialog::after {
    display: none !important;
  }

  #announcementModal .modal {
    background-color: rgba(0, 0, 0, 0.4);
  }
</style>




<script>
  document.addEventListener('DOMContentLoaded', function () {
    const currentUrl = window.location.href;
    const isAuthPage = currentUrl.includes('login') || currentUrl.includes('sign_up');
    const alreadyShown = sessionStorage.getItem('announcementModalShown');

    if (!isAuthPage && !alreadyShown) {
      const modal = new bootstrap.Modal(document.getElementById('announcementModal'));
      modal.show();
      sessionStorage.setItem('announcementModalShown', 'true');
    }
  });
</script>
